# üìã –ü–ª–∞–Ω —Ä–∞–±–æ—Ç—ã —Å –æ—Ç–∑—ã–≤–∞–º–∏ Ozon

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∑—ã–≤–æ–≤ —Å —Ç—Ä–µ–º—è —É—Ä–æ–≤–Ω—è–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

| –£—Ä–æ–≤–µ–Ω—å | –†–µ–π—Ç–∏–Ω–≥ | –¢–∏–ø | –ú–µ—Ç–æ–¥ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|---------|---------|-----|-------|-----------|
| 1 | 5‚òÖ | –ë–µ–∑ —Ç–µ–∫—Å—Ç–∞ | –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç | –í—ã—Å–æ–∫–∏–π |
| 2 | 4-5‚òÖ | –° —Ç–µ–∫—Å—Ç–æ–º | AI –∞–Ω–∞–ª–∏–∑ | –°—Ä–µ–¥–Ω–∏–π |
| 3 | 1-3‚òÖ | –ù–µ–≥–∞—Ç–∏–≤/–ø—Ä–µ—Ç–µ–Ω–∑–∏–∏ | AI + –∫–æ–Ω—Ç—Ä–æ–ª—å | –ö—Ä–∏—Ç–∏—á–Ω—ã–π |

---

## üîÑ –†–µ–≥—É–ª—è—Ä–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —á–∞—Å—Ç–æ—Ç–∞)

### –ï–∂–µ–¥–Ω–µ–≤–Ω–æ (–∏–ª–∏ –∫–∞–∂–¥—ã–µ 2-3 –¥–Ω—è):

```bash
# –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª
python3 ozon-reviews-workflow.py
```

### –ò–ª–∏ –ø–æ —à–∞–≥–∞–º:

#### –®–∞–≥ 1: 5‚òÖ –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ ‚Üí –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç (1-2 –º–∏–Ω—É—Ç—ã)
```bash
# –¢–µ—Å—Ç
python3 ozon-5star-autoreply/scripts/autoreply.py --dry-run

# –†–µ–∞–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
python3 ozon-5star-autoreply/scripts/autoreply.py
```
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ù–∞—Ö–æ–¥–∏—Ç 5‚òÖ –æ—Ç–∑—ã–≤—ã –±–µ–∑ —Ç–µ–∫—Å—Ç–∞
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π —à–∞–±–ª–æ–Ω (—Å —É—á—ë—Ç–æ–º —Ñ–æ—Ç–æ)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å PROCESSED

---

#### –®–∞–≥ 2: 4-5‚òÖ —Å —Ç–µ–∫—Å—Ç–æ–º ‚Üí AI –∞–Ω–∞–ª–∏–∑

**2.1. –≠–∫—Å–ø–æ—Ä—Ç:**
```bash
python3 ozon-reviews-ai/scripts/ai_batch.py \
  --export \
  --rating-min 4 \
  --rating-max 5 \
  --output reviews_4_5_$(date +%Y%m%d).json
```

**2.2. –ü–µ—Ä–µ–¥–∞—á–∞ AI (–º–Ω–µ):**
- –û—Ç–ø—Ä–∞–≤—å —Ñ–∞–π–ª `reviews_4_5_YYYYMMDD.json`
- –Ø –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –∫–∞–∂–¥—ã–π –æ—Ç–∑—ã–≤
- –ü–∏—à—É –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- –í–æ–∑–≤—Ä–∞—â–∞—é —Ñ–∞–π–ª —Å –æ—Ç–≤–µ—Ç–∞–º–∏

**2.3. –ò–º–ø–æ—Ä—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞:**
```bash
python3 ozon-reviews-ai/scripts/ai_batch.py \
  --import-file reviews_4_5_YYYYMMDD_replied.json
```

---

#### –®–∞–≥ 3: 1-3‚òÖ (–Ω–µ–≥–∞—Ç–∏–≤) ‚Üí AI —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º

**3.1. –≠–∫—Å–ø–æ—Ä—Ç:**
```bash
python3 ozon-reviews-ai/scripts/ai_batch.py \
  --export \
  --rating-min 1 \
  --rating-max 3 \
  --output reviews_negative_$(date +%Y%m%d).json
```

**3.2. –ü–µ—Ä–µ–¥–∞—á–∞ AI —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏:**
```
‚ö†Ô∏è –ù–ï–ì–ê–¢–ò–í–ù–´–ï –û–¢–ó–´–í–´ - —Ç—Ä–µ–±—É—é—Ç –æ—Å–æ–±–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–∑—ã–≤–∞:
1. –í—ã—Ä–∞–∑–∏ –∏—Å–∫—Ä–µ–Ω–Ω–µ–µ —Å–æ–∂–∞–ª–µ–Ω–∏–µ
2. –ü—Ä–∏–∑–Ω–∞–π –ø—Ä–æ–±–ª–µ–º—É (–Ω–µ –æ–ø—Ä–∞–≤–¥—ã–≤–∞–π—Å—è)
3. –ü—Ä–µ–¥–ª–æ–∂–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
   - –í–æ–∑–≤—Ä–∞—Ç
   - –ó–∞–º–µ–Ω–∞
   - –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
   - –†–∞–∑–±–æ—Ä —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º
4. –ü—Ä–∏–≥–ª–∞—Å–∏ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
5. –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é

–ü—Ä–∏–º–µ—Ä—ã:
- –û–∂–æ–≥/–∞–ª–ª–µ—Ä–≥–∏—è ‚Üí "–ü—Ä–∏–Ω–æ—Å–∏–º –∏–∑–≤–∏–Ω–µ–Ω–∏—è... —Å—Ä–æ—á–Ω–æ —Å–≤—è–∂–∏—Ç–µ—Å—å... –ø–æ–ª–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç"
- –ë—Ä–∞–∫ ‚Üí "–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ... –∑–∞–º–µ–Ω–∏–º/–≤–µ—Ä–Ω—ë–º –¥–µ–Ω—å–≥–∏"
- –ù–µ –ø–æ–¥–æ—à–ª–æ ‚Üí "–°–æ–∂–∞–ª–µ–µ–º... –ø–æ–º–æ–∂–µ–º –ø–æ–¥–æ–±—Ä–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É"
```

**3.3. –ò–º–ø–æ—Ä—Ç:**
```bash
python3 ozon-reviews-ai/scripts/ai_batch.py \
  --import-file reviews_negative_YYYYMMDD_replied.json
```

---

## üìä –ü—Ä–∏–º–µ—Ä–Ω—ã–π –æ–±—ä—ë–º —Ä–∞–±–æ—Ç—ã

–ü—Ä–∏ 50-100 –æ—Ç–∑—ã–≤–∞—Ö –≤ –Ω–µ–¥–µ–ª—é:

| –¢–∏–ø | –ö–æ–ª-–≤–æ | –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
|-----|--------|-----------------|
| 5‚òÖ –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ | 20-30 | 2 –º–∏–Ω (–∞–≤—Ç–æ) |
| 4-5‚òÖ —Å —Ç–µ–∫—Å—Ç–æ–º | 15-25 | 10-15 –º–∏–Ω (AI) |
| 1-3‚òÖ –Ω–µ–≥–∞—Ç–∏–≤ | 5-10 | 15-20 –º–∏–Ω (AI + –≤–Ω–∏–º–∞–Ω–∏–µ) |
| **–ò—Ç–æ–≥–æ** | **40-65** | **30-40 –º–∏–Ω –≤ –Ω–µ–¥–µ–ª—é** |

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –°—Ä–æ—á–Ω–æ (–≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤):
- ‚≠ê 1-2‚òÖ —Å —Å–µ—Ä—å—ë–∑–Ω—ã–º–∏ –ø—Ä–µ—Ç–µ–Ω–∑–∏—è–º–∏ (–æ–∂–æ–≥, –±—Ä–∞–∫, –∞–ª–ª–µ—Ä–≥–∏—è)
- üì∏ 5‚òÖ —Å —Ñ–æ—Ç–æ (–¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö)

### –í–∞–∂–Ω–æ (–≤ —Ç–µ—á–µ–Ω–∏–µ 48 —á–∞—Å–æ–≤):
- ‚≠ê 3‚òÖ —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ–π –∫—Ä–∏—Ç–∏–∫–æ–π
- ‚≠ê 4-5‚òÖ —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –≤ —Ç–µ–∫—Å—Ç–µ

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ (–≤ —Ç–µ—á–µ–Ω–∏–µ 72 —á–∞—Å–æ–≤):
- ‚≠ê 5‚òÖ –±–µ–∑ —Ç–µ–∫—Å—Ç–∞

---

## üìÅ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
workspace/
‚îú‚îÄ‚îÄ ozon-reviews-workflow.py          # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
‚îú‚îÄ‚îÄ ozon-5star-autoreply/
‚îÇ   ‚îî‚îÄ‚îÄ scripts/autoreply.py          # –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç 5‚òÖ
‚îú‚îÄ‚îÄ ozon-reviews-ai/
‚îÇ   ‚îî‚îÄ‚îÄ scripts/ai_batch.py           # AI —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç
‚îî‚îÄ‚îÄ reviews_archive/                  # –ê—Ä—Ö–∏–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö
    ‚îú‚îÄ‚îÄ 2026-02-02_4_5_replied.json
    ‚îú‚îÄ‚îÄ 2026-02-02_negative_replied.json
    ‚îî‚îÄ‚îÄ ...
```

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (–≤—Å–µ —à–∞–≥–∏):
```bash
python3 ozon-reviews-workflow.py
```

### –¢–æ–ª—å–∫–æ 5‚òÖ –∞–≤—Ç–æ:
```bash
python3 ozon-reviews-workflow.py --step1-only
```

### –¢–æ–ª—å–∫–æ —ç–∫—Å–ø–æ—Ä—Ç –¥–ª—è AI:
```bash
# 4-5‚òÖ
python3 ozon-reviews-workflow.py --step2-only

# 1-3‚òÖ
python3 ozon-reviews-workflow.py --step3-only
```

### –¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–≥–æ–Ω:
```bash
python3 ozon-reviews-workflow.py --dry-run
```

---

## üîç –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞

### –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π AI-–æ—Ç–≤–µ—Ç–æ–≤:

- [ ] –û—Ç–≤–µ—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (–Ω–µ —à–∞–±–ª–æ–Ω—ã)
- [ ] –£–ø–æ–º—è–Ω—É—Ç—ã –¥–µ—Ç–∞–ª–∏ –∏–∑ –æ—Ç–∑—ã–≤–∞
- [ ] –î–ª—è –Ω–µ–≥–∞—Ç–∏–≤–∞: –µ—Å—Ç—å –∏–∑–≤–∏–Ω–µ–Ω–∏—è + —Ä–µ—à–µ–Ω–∏–µ
- [ ] –î–ª—è –ø–æ–∑–∏—Ç–∏–≤–∞: –µ—Å—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å
- [ ] –ù–µ—Ç –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- [ ] –≠–º–æ–¥–∑–∏ —É–º–µ—Å—Ç–Ω—ã –∏ –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—é—Ç

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:

```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º
python3 ozon-reviews/scripts/reviews.py --json | python3 -c "
import json, sys
data = json.load(sys.stdin)
reviews = data['reviews']

processed = sum(1 for r in reviews if r['status'] == 'PROCESSED')
unprocessed = sum(1 for r in reviews if r['status'] == 'UNPROCESSED')

print(f'–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: {processed}')
print(f'–í –æ—á–µ—Ä–µ–¥–∏: {unprocessed}')
print(f'–ü—Ä–æ—Ü–µ–Ω—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏: {processed/(processed+unprocessed)*100:.1f}%')
"
```

---

## üö® –ò—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏

### –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏ –æ–ø–∞—Å–Ω—ã–µ –æ—Ç–∑—ã–≤—ã:
- –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ "–≤—Ä–∞—á", "–±–æ–ª—å–Ω–∏—Ü–∞", "–æ–∂–æ–≥", "–∞–ª–ª–µ—Ä–≥–∏—è"
- –£–≥—Ä–æ–∑—ã —Å—É–¥–æ–º, –†–æ—Å–ø–æ—Ç—Ä–µ–±–Ω–∞–¥–∑–æ—Ä–æ–º
- **–î–µ–π—Å—Ç–≤–∏–µ:** –°—Ä–æ—á–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É + —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç

### –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∂–∞–ª–æ–±—ã –æ—Ç –æ–¥–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞–∫–∞–∑–æ–≤
- **–î–µ–π—Å—Ç–≤–∏–µ:** –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è

### –í–∏—Ä—É—Å–Ω—ã–µ –æ—Ç–∑—ã–≤—ã (–º–Ω–æ–≥–æ –ª–∞–π–∫–æ–≤/–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤):
- **–î–µ–π—Å—Ç–≤–∏–µ:** –û—Å–æ–±–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç, –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º

---

## üìÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

| –î–µ–Ω—å | –î–µ–π—Å—Ç–≤–∏–µ |
|------|----------|
| –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ | –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (–≤—Å–µ —à–∞–≥–∏) |
| –°—Ä–µ–¥–∞ | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö + —à–∞–≥ 1 (–∞–≤—Ç–æ) |
| –ü—è—Ç–Ω–∏—Ü–∞ | –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª |
| –ï–∂–µ–¥–Ω–µ–≤–Ω–æ | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ–≥–∞—Ç–∏–≤–∞ (1-2‚òÖ) |

---

## üí° –°–æ–≤–µ—Ç—ã

1. **–ù–µ –æ—Ç–≤–µ—á–∞–π —Å—Ä–∞–∑—É –Ω–∞ –≤—Å–µ** ‚Äî –ª—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ, —á–µ–º –±—ã—Å—Ç—Ä–æ
2. **–î–µ–ª–∞–π –ø–∞—É–∑—ã** ‚Äî –Ω–µ –±–æ–ª—å—à–µ 10-15 –æ—Ç–∑—ã–≤–æ–≤ –∑–∞ —Å–µ—Å—Å–∏—é
3. **–°–æ—Ö—Ä–∞–Ω—è–π —à–∞–±–ª–æ–Ω—ã** ‚Äî —Ö–æ—Ä–æ—à–∏–µ –æ—Ç–≤–µ—Ç—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
4. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π** ‚Äî –∫–∞–∫–∏–µ –æ—Ç–≤–µ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ª—É—á—à–µ (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞)

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ:
1. –°–º–æ—Ç—Ä–∏ `--help` —É –ª—é–±–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
2. –ò—Å–ø–æ–ª—å–∑—É–π `--dry-run` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
3. –°–ø—Ä–æ—Å–∏ –º–µ–Ω—è (AI) ‚Äî –ø–æ–∫–∞–∂–∏ —Ñ–∞–π–ª –∏ —Å–∫–∞–∂–∏ "–ø–æ–º–æ–≥–∏ —Å –æ—Ç–≤–µ—Ç–∞–º–∏"
